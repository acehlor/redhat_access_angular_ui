accordion
  accordion-group(ng-hide='RecommendationsService.handPickedRecommendations.length === 0;', is-open="isHandpickedSolutionsOpen.val")
    accordion-heading
      i.fa.fa-chevron-down(ng-class='{"active": isHandpickedSolutionsOpen.val}')
      | {{'Handpicked For You'|translate}}
    ul
      li.recommendation(ng-repeat='recommendation in handPickedResults.array')
        .title
          .fa.pin(
            ng-class='{"fa-thumb-tack pinned": recommendation.pinned && !recommendation.pinning, "fa-thumb-tack not-pinned": !recommendation.pinned && !recommendation.pinning, "spinner spinner-xs": recommendation.pinning}',
            ng-click='pinRecommendation(recommendation, $index, $event)',
            style='cursor: pointer;') &nbsp;
          a(ng-click='triggerAnalytics($event)', href='{{recommendation.resource_view_uri}}', target='_blank')
            strong {{recommendation.title | substring:100 }}
        div.pre-wrap(ng-bind-html='recommendation.abstract')
    .pagination
      .pull-right
        button.btn.btn-secondary.btn-slim(ng-disabled="handPickedResultsPage === 1", ng-click="selectPage(handPickedResultsPage = handPickedResultsPage - 1, RecommendationsService.handPickedRecommendations, handPickedResults)")
          i.fa.fa-long-arrow-left
        button.btn.btn-primary.btn-slim(ng-disabled="handPickedResultsPage >= findLastPage(RecommendationsService.handPickedRecommendations)", ng-click="selectPage(handPickedResultsPage = handPickedResultsPage + 1, RecommendationsService.handPickedRecommendations, handPickedResults)")
          span {{'NEXT'|translate}}
          i.fa.fa-long-arrow-right
  accordion-group(ng-hide='RecommendationsService.recommendations.length === 0', is-open="isTopSolutionsOpen.val")
    accordion-heading
      i.fa.fa-chevron-down(ng-class='{"active": isTopSolutionsOpen.val}')
      | {{'Top Solutions'|translate}}
    ul
      li.recommendation(ng-repeat='recommendation in results.array')
        .title
          .fa.pin(
            ng-class='{"fa-thumb-tack pinned": recommendation.pinned && !recommendation.pinning, "fa-thumb-tack not-pinned": !recommendation.pinned && !recommendation.pinning, "spinner spinner-xs": recommendation.pinning}',
            ng-click='pinRecommendation(recommendation, $index, $event)',
            style='cursor: pointer;') &nbsp;
          a(ng-click='triggerAnalytics($event)', href='{{recommendation.resource_view_uri}}', target='_blank')
            strong {{recommendation.title}}
          span.handpicked(ng-show='recommendation.handPicked')
            .fa.fa-check
            | {{'Handpicked'|translate}}
        div.pre-wrap(ng-bind-html='recommendation.abstract')
    .pagination
      .pull-right
        button.btn.btn-secondary.btn-slim(ng-disabled="resultsPage === 1", ng-click="selectPage(resultsPage = resultsPage - 1, RecommendationsService.recommendations, results)")
          i.fa.fa-long-arrow-left
        button.btn.btn-primary.btn-slim(ng-disabled="resultsPage >= findLastPage(RecommendationsService.recommendations)", ng-click="selectPage(resultsPage = resultsPage + 1, RecommendationsService.recommendations, results)")
          span {{'NEXT'|translate}}
          i.fa.fa-long-arrow-right
  accordion-group(ng-hide='RecommendationsService.pinnedRecommendations.length === 0', is-open="isPinnedSolutionsOpen.val")
    accordion-heading
      i.fa.fa-chevron-down(ng-class='{"active": isPinnedSolutionsOpen.val}')
      | {{'Your Pins'|translate}}
    ul
      li.recommendation(ng-repeat='recommendation in pinnedResults.array')
        .title
          .fa.pin(
            ng-class='{"fa-thumb-tack pinned": recommendation.pinned && !recommendation.pinning, "fa-thumb-tack not-pinned": !recommendation.pinned && !recommendation.pinning, "spinner spinner-xs": recommendation.pinning}',
            ng-click='pinRecommendation(recommendation, $index, $event)',
            style='cursor: pointer;') &nbsp;
          a(ng-click='triggerAnalytics($event)', href='{{recommendation.resource_view_uri}}', target='_blank')
            strong {{recommendation.title}}
        div.pre-wrap(ng-bind-html='recommendation.abstract')
    .pagination
      .pull-right
        button.btn.btn-secondary.btn-slim(ng-disabled="pinnedResultsPage === 1", ng-click="selectPage(pinnedResultsPage = pinnedResultsPage - 1, RecommendationsService.pinnedRecommendations, pinnedResults)")
          i.fa.fa-long-arrow-left
        button.btn.btn-primary.btn-slim(ng-disabled="pinnedResultsPage >= findLastPage(RecommendationsService.pinnedRecommendations)", ng-click="selectPage(pinnedResultsPage = pinnedResultsPage + 1, RecommendationsService.pinnedRecommendations, pinnedResults)")
          span {{'NEXT'|translate}}
          i.fa.fa-long-arrow-right
